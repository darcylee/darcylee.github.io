<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="iUwPtQHa_fNHOiRb8XE0eoW4AHpe8lYXqZ7dZv9pmgE" />
    <meta name="baidu-site-verification" content="WL6lV17Um6" />
    <meta name="baidu-site-verification" content="42RzV6AoEN" />
    <meta baidu-gxt-verify-token="579ad5c0551c141d1d37e08df0506358">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="一个小小小小的嵌入式工程师，程序员，darcylee 这里是 @gitlee 的个人博客，与你一起发现更大的世界。">
    <meta name="keywords"  content="gitlee, gitlee.com, www.gitlee.com, darcylee, rucle, @rucle, 李家泉的博客, 博客, 个人网站, gitlee blog">
    <meta name="theme-color" content="#000000">

    <!-- Open Graph -->
    <meta property="og:title" content="Rime输入法配置 - Gitlee Blog | 李家泉的博客">
    
    <meta property="og:type" content="article">
    <meta property="og:description" content="rime 通用配置
">
    
    <meta property="article:published_time" content="2021-02-22T00:00:00Z">
    
    
    <meta property="article:author" content="gitlee">
    
    
    <meta property="article:tag" content="rime">
    
    <meta property="article:tag" content="linux">
    
    
    <meta property="og:image" content="https://www.gitlee.com/img/avatar-darcylee.jpg">
    <meta property="og:url" content="https://www.gitlee.com/blog/rime-tweak/">
    <meta property="og:site_name" content="Gitlee Blog | 李家泉的博客">

    <title>Rime输入法配置 - Gitlee Blog | 李家泉的博客</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.gitlee.com/blog/rime-tweak/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->

<nav class="navbar navbar-default navbar-custom navbar-fixed-top invert">

    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Gitlee's Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                    
                    
                    
                    <li>
                        <a href="/about/">About</a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="/archive/">Archive</a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <li>
                        <a href="/resource/">resource</a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="/tags/">Tags</a>
                    </li>
                    
                    
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle/$collapse will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/post-bg-default.jpg" width="0" height="0"> -->

<!-- Post Header -->



<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/post-bg-default.jpg');
        background: ;
    }

    
</style>

<header class="intro-header style-text" >

    <div class="header-mask"></div>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/archive/?tag=rime" title="rime">rime</a>
                        
                        <a class="tag" href="/archive/?tag=linux" title="linux">linux</a>
                        
                    </div>
                    <h1>Rime输入法配置</h1>
                    
                    <h2 class="subheading">中州韵输入配置和ibus-rime美化</h2>
                    <span class="meta">Posted by gitlee on February 22, 2021</span>
                </div>
            </div>
        </div>
    </div>
</header>






<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <!-- Multi-Lingual -->
                

				<h1 id="rime-通用配置">rime 通用配置</h1>

<p>详细参见官网 <a href="https://rime.im/docs/">https://rime.im/docs/</a> 。以下是我使用的一些配置</p>

<p><strong>输入方案设定(通用)</strong></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="c1">#文件位置：  ~/.config/ibus/rime/default.custom.yaml</span>
<span class="na">patch</span><span class="pi">:</span>
  <span class="s2">"</span><span class="s">ascii_composer/switch_key/Shift_L"</span><span class="pi">:</span> <span class="s">noop</span>
  <span class="s2">"</span><span class="s">ascii_composer/switch_key/Shift_R"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">commit_code"</span>

  <span class="na">schema_list</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">schema</span><span class="pi">:</span> <span class="s">luna_pinyin_simp</span>
    <span class="c1"># - schema: luna_pinyin</span>
    <span class="c1"># - schema: luna_pinyin_fluency</span>
    <span class="c1"># - schema: bopomofo</span>
    <span class="c1"># - schema: bopomofo_tw</span>
    <span class="c1"># - schema: cangjie5</span>
    <span class="c1"># - schema: stroke</span>
    <span class="c1"># - schema: terra_pinyin</span>

  <span class="s">switcher/caption</span><span class="pi">:</span> <span class="s2">"</span><span class="s">〔方案选择〕"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>针对明月拼音的设定(通用)</strong></p>

<p>主要针对模糊音、emoji 做的设置，参照 <a href="https://github.com/rime/rime-emoji">https://github.com/rime/rime-emoji</a> 中 自助安装说明</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
</pre></td><td class="rouge-code"><pre><span class="c1">#文件位置： ~/.config/ibus/rime/luna_pinyin_simp.custom.yaml</span>
<span class="na">patch</span><span class="pi">:</span>
  <span class="s">style/horizontal</span><span class="pi">:</span> <span class="no">true</span>
  <span class="s2">"</span><span class="s">menu/page_size"</span><span class="pi">:</span> <span class="m">6</span>
  <span class="s1">'</span><span class="s">speller/algebra'</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">erase/^xx$/</span>                      <span class="c1"># 第一行保留</span>
    <span class="c1"># 模糊音定義</span>
    <span class="c1"># 需要哪組就刪去行首的 # 號，單雙向任選</span>
    <span class="pi">-</span> <span class="s">derive/^([zcs])h/$1/</span>             <span class="c1"># zh, ch, sh =&gt; z, c, s</span>
    <span class="pi">-</span> <span class="s">derive/^([zcs])([^h])/$1h$2/</span>     <span class="c1"># z, c, s =&gt; zh, ch, sh</span>

    <span class="c1">#- derive/^n/l/                     # n =&gt; l</span>
    <span class="c1">#- derive/^l/n/                     # l =&gt; n</span>

    <span class="c1"># 這兩組一般是單向的</span>
    <span class="c1">#- derive/^r/l/                     # r =&gt; l</span>

    <span class="c1">#- derive/^ren/yin/                 # ren =&gt; yin, reng =&gt; ying</span>
    <span class="c1">#- derive/^r/y/                     # r =&gt; y</span>

    <span class="c1"># 下面 hu &lt;=&gt; f 這組寫法複雜一些，分情況討論</span>
    <span class="c1"># - derive/^hu$/fu/                  # hu =&gt; fu</span>
    <span class="c1"># - derive/^hong$/feng/              # hong =&gt; feng</span>
    <span class="c1"># - derive/^hu([in])$/fe$1/          # hui =&gt; fei, hun =&gt; fen</span>
    <span class="c1"># - derive/^hu([ao])/f$1/            # hua =&gt; fa, ...</span>

    <span class="c1"># - derive/^fu$/hu/                  # fu =&gt; hu</span>
    <span class="c1"># - derive/^feng$/hong/              # feng =&gt; hong</span>
    <span class="c1"># - derive/^fe([in])$/hu$1/          # fei =&gt; hui, fen =&gt; hun</span>
    <span class="c1"># - derive/^f([ao])/hu$1/            # fa =&gt; hua, ...</span>

    <span class="c1"># 韻母部份</span>
    <span class="c1"># - derive/^([bpmf])eng$/$1ong/      # meng = mong, ...</span>
    <span class="pi">-</span> <span class="s">derive/([aei])n$/$1ng/</span>            <span class="c1"># an =&gt; ang, en =&gt; eng, in =&gt; ing</span>
    <span class="pi">-</span> <span class="s">derive/([aei])ng$/$1n/</span>            <span class="c1"># ang =&gt; an, eng =&gt; en, ing =&gt; in</span>

    <span class="c1"># 樣例足夠了，其他請自己總結……</span>

    <span class="c1"># 反模糊音？</span>
    <span class="c1"># 誰說方言沒有普通話精確、有模糊音，就能有反模糊音。</span>
    <span class="c1"># 示例爲分尖團的中原官話：</span>
    <span class="c1"># - derive/^ji$/zii/   # 在設計者安排下鳩佔鵲巢，尖音i只好雙寫了</span>
    <span class="c1"># - derive/^qi$/cii/</span>
    <span class="c1"># - derive/^xi$/sii/</span>
    <span class="c1"># - derive/^ji/zi/</span>
    <span class="c1"># - derive/^qi/ci/</span>
    <span class="c1"># - derive/^xi/si/</span>
    <span class="c1"># - derive/^ju/zv/</span>
    <span class="c1"># - derive/^qu/cv/</span>
    <span class="c1"># - derive/^xu/sv/</span>
    <span class="c1"># 韻母部份，只能從大面上覆蓋</span>
    <span class="c1"># - derive/^([bpm])o$/$1eh/          # bo =&gt; beh, ...</span>
    <span class="c1"># - derive/(^|[dtnlgkhzcs]h?)e$/$1eh/  # ge =&gt; geh, se =&gt; sheh, ...</span>
    <span class="c1"># - derive/^([gkh])uo$/$1ue/         # guo =&gt; gue, ...</span>
    <span class="c1"># - derive/^([gkh])e$/$1uo/          # he =&gt; huo, ...</span>
    <span class="c1"># - derive/([uv])e$/$1o/             # jue =&gt; juo, lve =&gt; lvo, ...</span>
    <span class="c1"># - derive/^fei$/fi/                 # fei =&gt; fi</span>
    <span class="c1"># - derive/^wei$/vi/                 # wei =&gt; vi</span>
    <span class="c1"># - derive/^([nl])ei$/$1ui/          # nei =&gt; nui, lei =&gt; lui</span>
    <span class="c1"># - derive/^([nlzcs])un$/$1vn/       # lun =&gt; lvn, zun =&gt; zvn, ...</span>
    <span class="c1"># - derive/^([nlzcs])ong$/$1iong/    # long =&gt; liong, song =&gt; siong, ...</span>
    <span class="c1"># 這個辦法雖從拼寫上做出了區分，然而受詞典制約，候選字仍是混的。</span>
    <span class="c1"># 只有真正的方音輸入方案纔能做到！但「反模糊音」這個玩法快速而有效！</span>

    <span class="c1"># 模糊音定義先於簡拼定義，方可令簡拼支持以上模糊音</span>
    <span class="pi">-</span> <span class="s">abbrev/^([a-z]).+$/$1/</span>           <span class="c1"># 簡拼（首字母）</span>
    <span class="pi">-</span> <span class="s">abbrev/^([zcs]h).+$/$1/</span>          <span class="c1"># 簡拼（zh, ch, sh）</span>

    <span class="c1"># 以下是一組容錯拼寫，《漢語拼音》方案以前者爲正</span>
    <span class="pi">-</span> <span class="s">derive/^([nl])ve$/$1ue/</span>          <span class="c1"># nve = nue, lve = lue</span>
    <span class="pi">-</span> <span class="s">derive/^([jqxy])u/$1v/</span>           <span class="c1"># ju = jv,</span>
    <span class="pi">-</span> <span class="s">derive/un$/uen/</span>                  <span class="c1"># gun = guen,</span>
    <span class="pi">-</span> <span class="s">derive/ui$/uei/</span>                  <span class="c1"># gui = guei,</span>
    <span class="pi">-</span> <span class="s">derive/iu$/iou/</span>                  <span class="c1"># jiu = jiou,</span>

    <span class="c1"># 自動糾正一些常見的按鍵錯誤</span>
    <span class="pi">-</span> <span class="s">derive/([aeiou])ng$/$1gn/</span>        <span class="c1"># dagn =&gt; dang</span>
    <span class="pi">-</span> <span class="s">derive/([dtngkhrzcs])o(u|ng)$/$1o/</span>  <span class="c1"># zho =&gt; zhong|zhou</span>
    <span class="pi">-</span> <span class="s">derive/ong$/on/</span>                  <span class="c1"># zhonguo =&gt; zhong guo</span>
    <span class="pi">-</span> <span class="s">derive/ao$/oa/</span>                   <span class="c1"># hoa =&gt; hao</span>
    <span class="pi">-</span> <span class="s">derive/([iu])a(o|ng?)$/a$1$2/</span>    <span class="c1"># tain =&gt; tian</span>

  <span class="c1"># 分尖團後 v =&gt; ü 的改寫條件也要相應地擴充：</span>
  <span class="c1">#'translator/preedit_format':</span>
  <span class="c1">#  - "xform/([nljqxyzcs])v/$1ü/"</span>

  <span class="s">punctuator/import_preset</span><span class="pi">:</span> <span class="s">symbols</span>
  <span class="s">recognizer/patterns/punct</span><span class="pi">:</span> <span class="s1">'</span><span class="s">^/([0-9]0?|[A-Za-z]+)$'</span> <span class="c1"># "translator/dictionary": luna_pinyin.sogou</span>

  <span class="na">punctuator</span><span class="pi">:</span>
    <span class="na">full_shape</span><span class="pi">:</span>
      <span class="s2">"</span><span class="nv"> </span><span class="s">"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">　"</span><span class="pi">}</span>
      <span class="s2">"</span><span class="s">!"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">！"</span><span class="pi">}</span>
      <span class="s2">"</span><span class="se">\"</span><span class="s">"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">pair</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">“"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">”"</span><span class="pi">]}</span>
      <span class="s2">"</span><span class="s">#"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">＃"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">#"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">№"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">⌘"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">$"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">￥"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">$"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">€"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">£"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">¥"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">¢"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">¤"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">%"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">%"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">％"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">°"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">℃"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">‰"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">‱"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">℉"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">℅"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">℆"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">℀"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">℁"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">⅍"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">&amp;"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">＆"</span>
      <span class="s2">"</span><span class="s">'"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">pair</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">‘"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">’"</span><span class="pi">]}</span>
      <span class="s2">"</span><span class="s">("</span><span class="pi">:</span> <span class="s2">"</span><span class="s">（"</span>
      <span class="s2">"</span><span class="s">)"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">）"</span>
      <span class="s2">"</span><span class="s">*"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">＊"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">·"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">・"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">×"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">※"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">❂"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">⁂"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">☮"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">☯"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">☣"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">+"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">＋"</span>
      <span class="s2">"</span><span class="s">,"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">，"</span><span class="pi">}</span>
      <span class="s2">"</span><span class="s">-"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">－"</span>
      <span class="s">.</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">。"</span><span class="pi">}</span>
      <span class="s2">"</span><span class="s">/"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">／"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">÷"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">:"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">："</span><span class="pi">}</span>
      <span class="s2">"</span><span class="s">;"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">；"</span><span class="pi">}</span>
      <span class="s2">"</span><span class="s">&lt;"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">《"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〈"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">«"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">‹"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">="</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">＝"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">="</span><span class="pi">,</span> <span class="s2">"</span><span class="s">々"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〃"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">&gt;"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">》"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〉"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">»"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">›"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">?"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">？"</span><span class="pi">}</span>
      <span class="s2">"</span><span class="s">@"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">＠"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">☯"</span><span class="pi">,</span><span class="s2">"</span><span class="s">©"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">®"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">℗"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">["</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">「"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">【"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〔"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">［"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="se">\\</span><span class="s">"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">、"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">＼"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">]"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">」"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">】"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〕"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">］"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">^"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">……"</span><span class="pi">}</span>
      <span class="na">_</span><span class="pi">:</span> <span class="s2">"</span><span class="s">——"</span>
      <span class="s2">"</span><span class="s">`"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">｀"</span>
      <span class="s2">"</span><span class="s">{"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">『"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〖"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">｛"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">|"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">·"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">・"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">|"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">｜"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">§"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">¦"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">‖"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">︴"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">}"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">』"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〗"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">｝"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">~"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">~"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">～"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">˜"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">˷"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">ⸯ"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">≈"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">≋"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">≃"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">≅"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">≇"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">∽"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">⋍"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">≌"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">﹏"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">﹋"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">﹌"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">︴"</span><span class="pi">]</span>
    <span class="na">half_shape</span><span class="pi">:</span>
      <span class="s2">"</span><span class="s">!"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">！"</span><span class="pi">}</span>
      <span class="s2">"</span><span class="se">\"</span><span class="s">"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">pair</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">“"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">”"</span><span class="pi">]}</span>
      <span class="s2">"</span><span class="s">#"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#"</span>
      <span class="s2">"</span><span class="s">$"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">$"</span>
      <span class="s2">"</span><span class="s">%"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">%"</span>
      <span class="s2">"</span><span class="s">&amp;"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&amp;"</span>
      <span class="s2">"</span><span class="s">'"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">pair</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">‘"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">’"</span><span class="pi">]}</span>
      <span class="s2">"</span><span class="s">("</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">("</span><span class="pi">,</span> <span class="s2">"</span><span class="s">（"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">)"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">)"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">）"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">*"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*"</span>
      <span class="s2">"</span><span class="s">+"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">+"</span>
      <span class="s2">"</span><span class="s">,"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">，"</span><span class="pi">}</span>
      <span class="s2">"</span><span class="s">-"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">-"</span>
      <span class="s">.</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">。"</span><span class="pi">}</span>
      <span class="s2">"</span><span class="s">/"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">、"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">/"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">／"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">÷"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">:"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">："</span><span class="pi">}</span>
      <span class="s2">"</span><span class="s">;"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">；"</span><span class="pi">}</span>
      <span class="s2">"</span><span class="s">&lt;"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">《"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〈"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">«"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">‹"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">˂"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">˱"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">="</span><span class="pi">:</span> <span class="s2">"</span><span class="s">="</span>
      <span class="s2">"</span><span class="s">&gt;"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">》"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〉"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">»"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">›"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">˃"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">˲"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">?"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">？"</span><span class="pi">}</span>
      <span class="s2">"</span><span class="s">@"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">@"</span>
      <span class="s2">"</span><span class="s">["</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">「"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">【"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〔"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">［"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〚"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〘"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="se">\\</span><span class="s">"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">、"</span><span class="pi">,</span> <span class="s2">"</span><span class="se">\\</span><span class="s">"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">＼"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">]"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">」"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">】"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〕"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">］"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〛"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〙"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">^"</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">commit</span><span class="pi">:</span> <span class="s2">"</span><span class="s">……"</span><span class="pi">}</span>
      <span class="na">_</span><span class="pi">:</span> <span class="s2">"</span><span class="s">_"</span>
      <span class="s2">"</span><span class="s">`"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">`"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">‵"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">‶"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">‷"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">′"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">″"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">‴"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">⁗"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">{"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">『"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〖"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">｛"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">|"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">|"</span>
      <span class="s2">"</span><span class="s">}"</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">』"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">〗"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">｝"</span><span class="pi">]</span>
      <span class="s2">"</span><span class="s">~"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">~"</span>

  <span class="s">switches/@next</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">emoji_suggestion</span>
    <span class="na">reset</span><span class="pi">:</span> <span class="m">1</span>
    <span class="na">states</span><span class="pi">:</span> <span class="pi">[</span> <span class="s2">"</span><span class="s">🈚️️</span><span class="se">\uFE0E</span><span class="s">"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">🈶️️</span><span class="se">\uFE0F</span><span class="s">"</span> <span class="pi">]</span>
  <span class="s1">'</span><span class="s">engine/filters/@before</span><span class="nv"> </span><span class="s">0'</span><span class="pi">:</span>
    <span class="s">simplifier@emoji_suggestion</span>
  <span class="na">emoji_suggestion</span><span class="pi">:</span>
    <span class="na">opencc_config</span><span class="pi">:</span> <span class="s">emoji.json</span>
    <span class="na">option_name</span><span class="pi">:</span> <span class="s">emoji_suggestion</span>
    <span class="na">tips</span><span class="pi">:</span> <span class="s">all</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>词库同步</strong></p>

<p>在 rime 用户文件夹下找到 installation.yaml 文件，添加如下关键配置：</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="na">installation_id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">linux-emacs"</span>             <span class="c1"># 根据不同平台起不同名字</span>
<span class="na">sync_dir</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/path/of/your/rime-user-data"</span>   <span class="c1"># 自定义共享路径</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="中州韵输入法安装---ibus">中州韵输入法安装 - IBUS</h1>

<p><strong>安装</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>sudo apt install librime1
sudo apt install ibus ibus-rime ibus-gtk
</pre></td></tr></tbody></table></code></pre></div></div>

<p>然后在 setting -&gt; Region&amp;Language 中将 rime 添加到 系统输入法列表中
<img src="/img/post/2021-5-6-rime-tweak/setting_rime.png" alt="setting_rime.png" /></p>

<p><strong>针对IBUS的配置</strong></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c1">#文件位置： ~/.config/ibus/rime/ibus_rime.yaml</span>
<span class="na">style</span><span class="pi">:</span>
  <span class="na">horizontal</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">inline_preedit</span><span class="pi">:</span> <span class="no">false</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>美化</strong></p>

<ol>
  <li>安装 ibus 美化 gnome-shell-extension  <a href="https://github.com/hollowman6/customize-ibus">Customize-IBus</a></li>
  <li>下载美化皮肤 <a href="https://github.com/HollowMan6/IBus-Theme-Hub.git">IBus-Theme-Hub</a>, 此为原始仓库，
个人 fork 了一个仓库 <a href="https://github.com/darcylee/IBus-Theme-Hub">darcylee/IBus-Theme-Hub</a> ，并添
加了一个皮肤 Orange-Dark-Numix, 效果如下
<img src="/img/post/2021-5-6-rime-tweak/Orange-Dark-Numix.png" alt="Orange-Dark-Numix.png" /></li>
</ol>

<h1 id="emacs-中使用-rime-输入法linuxmacos">emacs 中使用 rime 输入法(linux&amp;macOS)</h1>

<p>最开始使用的是 liberime+pyim 的方案， 经过使用和对比，最后选择的是 <a href="https://www.github.com/DogLooksGood/emacs-rime">emacs-rime</a></p>

<p>在 emacs 中使用 rime 的优势个人觉得有如下几点</p>
<ol>
  <li>可以在终端远程直接输入中文，着实很方便</li>
  <li>可以配合 evil 做状态切换，在 insert 和 normal 模式中自由切换，非常方便</li>
  <li>emacs-rime 全自动编译支持，非常友好(macOS 需要做一些设定)</li>
</ol>

<p>以下是基于 spacemacs+emacs-rime 的配置，</p>

<div class="language-elisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td><td class="rouge-code"><pre><span class="p">(</span><span class="nb">defun</span> <span class="nv">darcylee-rime-sync-delay</span> <span class="p">()</span>
  <span class="p">(</span><span class="nb">defvar</span> <span class="nv">already-sync</span> <span class="no">nil</span><span class="p">)</span>
  <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">not</span> <span class="nv">already-sync</span><span class="p">)</span>
      <span class="p">(</span><span class="k">progn</span>
        <span class="p">(</span><span class="k">setq</span> <span class="nv">already-sync</span> <span class="no">t</span><span class="p">)</span>
        <span class="p">(</span><span class="nv">run-with-idle-timer</span> <span class="mi">5</span> <span class="no">nil</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">()</span> <span class="p">(</span><span class="nv">rime-sync</span><span class="p">)</span>
                                     <span class="p">(</span><span class="nv">message</span> <span class="s">"rime sync done"</span><span class="p">))))))</span>

<span class="p">(</span><span class="nb">defun</span> <span class="nv">darcylee-better-defaults/init-rime</span> <span class="p">()</span>
  <span class="p">(</span><span class="nb">use-package</span> <span class="nv">rime</span>
    <span class="ss">:init</span>
    <span class="p">(</span><span class="k">setq</span> <span class="nv">rime-title</span> <span class="s">"Rime"</span><span class="p">)</span>
    <span class="p">(</span><span class="k">setq</span> <span class="nv">rime-show-candidate</span> <span class="ss">'popup</span><span class="p">)</span>
    <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nv">display-graphic-p</span><span class="p">)</span>
               <span class="c1">;; (eq system-type 'darwin)</span>
               <span class="p">(</span><span class="nb">&gt;=</span> <span class="nv">emacs-major-version</span> <span class="mi">26</span><span class="p">))</span>
      <span class="p">(</span><span class="nb">require</span> <span class="ss">'posframe</span><span class="p">)</span>
      <span class="p">(</span><span class="k">setq</span> <span class="nv">rime-show-candidate</span> <span class="ss">'posframe</span><span class="p">)</span>
      <span class="p">(</span><span class="k">setq</span> <span class="nv">rime-posframe-properties</span>
            <span class="p">(</span><span class="nb">list</span> <span class="ss">:internal-border-width</span> <span class="mi">8</span><span class="p">)))</span>
    <span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'rime-active-mode-hook</span> <span class="nf">#'</span><span class="nv">darcylee-rime-sync-delay</span><span class="p">)</span>

    <span class="ss">:config</span>
    <span class="p">(</span><span class="k">setq</span> <span class="nv">rime-disable-predicates</span>
          <span class="o">'</span><span class="p">(</span><span class="nv">rime-predicate-evil-mode-p</span>
            <span class="nv">rime-predicate-after-alphabet-char-p</span>
            <span class="nv">rime-predicate-prog-in-code-p</span><span class="p">))</span>
    <span class="c1">;; (setq rime-cursor "˰")</span>
    <span class="c1">;; support shift-l, shift-r, control-l, control-r</span>
    <span class="p">(</span><span class="k">setq</span> <span class="nv">rime-inline-ascii-trigger</span> <span class="ss">'shift-l</span><span class="p">)</span>
    <span class="p">(</span><span class="k">setq</span> <span class="nv">rime-user-data-dir</span> <span class="p">(</span><span class="nv">expand-file-name</span> <span class="s">"private/rime"</span> <span class="nv">dotspacemacs-directory</span><span class="p">))</span>

    <span class="p">(</span><span class="nv">define-key</span> <span class="nv">rime-active-mode-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">"M-j"</span><span class="p">)</span> <span class="ss">'rime-inline-ascii</span><span class="p">)</span>
    <span class="c1">;; (global-set-key (kbd "C-`") 'rime-inline-ascii)</span>
    <span class="c1">;; (define-key evil-insert-state-map (kbd "C-`") 'rime-inline-ascii)</span>
    <span class="p">(</span><span class="nv">define-key</span> <span class="nv">rime-mode-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">"C-`"</span><span class="p">)</span> <span class="ss">'rime-send-keybinding</span><span class="p">)</span>
    <span class="p">(</span><span class="k">setq</span> <span class="nv">mode-line-mule-info</span> <span class="o">'</span><span class="p">((</span><span class="ss">:eval</span> <span class="p">(</span><span class="nv">rime-lighter</span><span class="p">))))</span>

    <span class="ss">:custom</span>
    <span class="p">(</span><span class="nv">default-input-method</span> <span class="s">"rime"</span><span class="p">)))</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>效果</strong></p>

<p><img src="/img/post/2021-5-6-rime-tweak/emacs-rime.png" alt="emacs-rime.png" /></p>

<p><strong>自动同步词库</strong></p>

<p>主要针对 emacs-rime 生效，思想是在启动 rime 输入法后，延时执行 rime-sync, 使用 ‘rime-active-mode-hook 
实现，见上面代码 darcylee-rime-sync-delay。</p>

<p><strong>备注</strong></p>

<p>以上是在 macOS 中安装 emacs-rime 可能会遇到一些麻烦，可以参照 <a href="https://www.github.com/DogLooksGood/emacs-rime">emacs-rime</a> 中
的安装说明，实际安装也非常快</p>

<h1 id="windows-支持-rime-输入法---weasel">windows 支持 rime 输入法 - Weasel</h1>

<p><strong>美化 - 仿微软输入法</strong></p>

<p>weasel.custom.yaml</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="na">patch</span><span class="pi">:</span>
  <span class="na">preset_color_schemes</span><span class="pi">:</span>
    <span class="na">win10</span><span class="pi">:</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">Windows10</span>
        <span class="na">author</span><span class="pi">:</span> <span class="s">me</span>
        <span class="na">text_color</span><span class="pi">:</span> <span class="s">0x000000</span>             <span class="c1"># 編碼行文字顏色，24位色值，用十六進制書寫方便些，順序是藍綠紅0xBBGGRR</span>
        <span class="na">candidate_text_color</span><span class="pi">:</span> <span class="s">0x000000</span>   <span class="c1"># 候選項文字顏色，當與文字顏色不同時指定</span>
        <span class="na">back_color</span><span class="pi">:</span> <span class="s">0xFFFFFF</span>             <span class="c1"># 底色</span>
        <span class="na">border_color</span><span class="pi">:</span> <span class="s">0xFF9933</span>           <span class="c1"># 邊框顏色，與底色相同則爲無邊框的效果</span>
        <span class="na">hilited_text_color</span><span class="pi">:</span> <span class="s">0xFFFFFF</span>     <span class="c1"># 高亮文字，即與當前高亮候選對應的那部份輸入碼</span>
        <span class="na">hilited_back_color</span><span class="pi">:</span> <span class="s">0xFF9933</span>     <span class="c1"># 設定高亮文字的底色，可起到凸顯高亮部份的作用</span>
        <span class="na">hilited_candidate_text_color</span><span class="pi">:</span> <span class="s">0xFFFFFF</span>  <span class="c1"># 高亮候選項的文字顏色，要醒目！</span>
        <span class="na">hilited_candidate_back_color</span><span class="pi">:</span> <span class="s">0xFF9933</span>  <span class="c1"># 高亮候選項的底色，若與背景色不同就會顯出光棒</span>

    
  <span class="na">style</span><span class="pi">:</span>
    <span class="na">color_scheme</span><span class="pi">:</span> <span class="s">win10</span>
    <span class="na">horizontal</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">font_point</span><span class="pi">:</span> <span class="m">13</span>
    <span class="na">inline_preedit</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">font_face</span><span class="pi">:</span> <span class="s">Microsoft YaHei</span>
    <span class="na">layout</span><span class="pi">:</span>
        <span class="na">min_width</span><span class="pi">:</span> <span class="m">10</span>
        <span class="na">round_corner</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">hilite_padding</span><span class="pi">:</span> <span class="m">15</span>
        <span class="na">margin_x</span><span class="pi">:</span> <span class="m">15</span>
        <span class="na">margin_y</span><span class="pi">:</span> <span class="m">10</span>
        <span class="na">candidate_spacing</span><span class="pi">:</span> <span class="m">30</span>
        <span class="na">border_width</span><span class="pi">:</span> <span class="m">1</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>效果</strong></p>

<p><img src="/img/post/2021-5-6-rime-tweak/weasel-window10-theme.png" alt="weasel-window10-theme.png" /></p>

<h1 id="macos-使用-rime-输入法---squirrel">macOS 使用 rime 输入法 - Squirrel</h1>

<p><strong>关键配置</strong></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
</pre></td><td class="rouge-code"><pre><span class="na">patch</span><span class="pi">:</span>
<span class="c1"># 更换皮肤</span>
  <span class="s">style/color_scheme</span><span class="pi">:</span> <span class="s">macos_light</span>

  <span class="c1"># 皮肤主题</span>
  <span class="na">preset_color_schemes</span><span class="pi">:</span>
    <span class="na">macos_light</span><span class="pi">:</span>
      <span class="na">author</span><span class="pi">:</span> <span class="s2">"</span><span class="s">一方&lt;liuour@gmail.com&gt;"</span>
      <span class="na">back_color</span><span class="pi">:</span> <span class="s">0xFFFFFF</span>                      <span class="c1"># 候选条背景色，24位色值，16进制，BGR顺序</span>
      <span class="na">border_color</span><span class="pi">:</span> <span class="s">0xFFFFFF</span>                    <span class="c1"># 边框色</span>
      <span class="na">text_color</span><span class="pi">:</span> <span class="s">0x424242</span>                      <span class="c1"># 拼音行文字颜色</span>
      <span class="c1"># hilited_back_color: 0xD75A00              # 第一候选项背景背景色</span>
      <span class="na">hilited_back_color</span><span class="pi">:</span> <span class="s">0xA84DEC</span>              <span class="c1"># 第一候选项背景背景色</span>
      <span class="na">hilited_candidate_text_color</span><span class="pi">:</span> <span class="s">0xFFFFFF</span>    <span class="c1"># 第一候选项文字颜色</span>
      <span class="na">hilited_candidate_label_color</span><span class="pi">:</span> <span class="s">0xFFFFFF</span>   <span class="c1"># 第一候选项编号颜色</span>
      <span class="na">hilited_comment_text_color</span><span class="pi">:</span> <span class="s">0x999999</span>      <span class="c1"># 注解文字高亮</span>
      <span class="na">hilited_text_color</span><span class="pi">:</span> <span class="s">0x999999</span>              <span class="c1"># 高亮拼音 (需要开启内嵌编码)</span>
      <span class="na">candidate_text_color</span><span class="pi">:</span> <span class="s">0x3c3c3c</span>            <span class="c1"># 预选项文字颜色</span>
      <span class="na">comment_text_color</span><span class="pi">:</span> <span class="s">0x999999</span>              <span class="c1"># 拼音等提示文字颜色</span>
      <span class="na">horizontal</span><span class="pi">:</span> <span class="no">true</span>                          <span class="c1"># 水平排列</span>
      <span class="na">inline_preedit</span><span class="pi">:</span> <span class="no">true</span>                      <span class="c1"># 单行显示，false双行显示</span>
      <span class="na">label_color</span><span class="pi">:</span> <span class="s">0x999999</span>                     <span class="c1"># 预选栏编号颜色</span>
      <span class="na">candidate_format</span><span class="pi">:</span> <span class="s2">"</span><span class="s">%c</span><span class="se">\u2005</span><span class="s">%@"</span>            <span class="c1"># 用 1/6 em 空格 U+2005 来控制编号 %c 和候选词 %@ 前后的空间</span>
      <span class="na">font_face</span><span class="pi">:</span> <span class="s2">"</span><span class="s">PingFangSC"</span>                   <span class="c1"># 候选词编号字体</span>
      <span class="na">font_point</span><span class="pi">:</span> <span class="m">16</span>              <span class="c1"># 候选文字大小</span>
      <span class="na">label_font_point</span><span class="pi">:</span> <span class="m">13</span>        <span class="c1"># 候选编号大小</span>
      <span class="na">corner_radius</span><span class="pi">:</span> <span class="m">5</span>            <span class="c1"># 候选条圆角</span>
      <span class="na">hilited_corner_radius</span><span class="pi">:</span> <span class="m">5</span>    <span class="c1"># 高亮圆角</span>
      <span class="na">border_height</span><span class="pi">:</span> <span class="m">4</span>            <span class="c1"># 窗口上下高度</span>
      <span class="na">border_width</span><span class="pi">:</span> <span class="m">4</span>             <span class="c1"># 窗口左右宽度</span>
      <span class="na">border_color_width</span><span class="pi">:</span> <span class="m">0</span>       <span class="c1"># 输入条边框宽度</span>

    <span class="na">macos_dark</span><span class="pi">:</span>
      <span class="na">author</span><span class="pi">:</span> <span class="s2">"</span><span class="s">一方&lt;liuour@gmail.com&gt;"</span>
      <span class="na">back_color</span><span class="pi">:</span> <span class="s">0x252a2e</span>                      <span class="c1"># 候选条背景色，24位色值，16进制，BGR顺序</span>
      <span class="c1">#border_color: 0x050505                    # 边框色</span>
      <span class="na">border_color</span><span class="pi">:</span> <span class="s">0x252a2e</span>                    <span class="c1"># 边框色</span>
      <span class="na">text_color</span><span class="pi">:</span> <span class="s">0x424242</span>                      <span class="c1"># 拼音行文字颜色</span>
      <span class="c1">#hilited_back_color: 0xD75A00              # 第一候选项背景背景色</span>
      <span class="na">hilited_back_color</span><span class="pi">:</span> <span class="s">0xA84DEC</span>              <span class="c1"># 第一候选项背景背景色</span>
      <span class="na">hilited_candidate_text_color</span><span class="pi">:</span> <span class="s">0xFFFFFF</span>    <span class="c1"># 第一候选项文字颜色</span>
      <span class="na">hilited_candidate_label_color</span><span class="pi">:</span> <span class="s">0xFFFFFF</span>   <span class="c1"># 第一候选项编号颜色</span>
      <span class="na">hilited_comment_text_color</span><span class="pi">:</span> <span class="s">0x999999</span>      <span class="c1"># 注解文字高亮</span>
      <span class="na">hilited_text_color</span><span class="pi">:</span> <span class="s">0x999999</span>              <span class="c1"># 高亮拼音 (需要开启内嵌编码)</span>
      <span class="na">candidate_text_color</span><span class="pi">:</span> <span class="s">0xe9e9ea</span>            <span class="c1"># 预选项文字颜色</span>
      <span class="na">comment_text_color</span><span class="pi">:</span> <span class="s">0x999999</span>              <span class="c1"># 拼音等提示文字颜色</span>
      <span class="na">horizontal</span><span class="pi">:</span> <span class="no">true</span>                          <span class="c1"># 水平排列</span>
      <span class="na">inline_preedit</span><span class="pi">:</span> <span class="no">true</span>                      <span class="c1"># 单行显示，false双行显示</span>
      <span class="na">label_color</span><span class="pi">:</span> <span class="s">0x999999</span>                     <span class="c1"># 预选栏编号颜色</span>
      <span class="na">candidate_format</span><span class="pi">:</span> <span class="s2">"</span><span class="s">%c</span><span class="se">\u2005</span><span class="s">%@"</span>            <span class="c1"># 用 1/6 em 空格 U+2005 来控制编号 %c 和候选词 %@ 前后的空间</span>
      <span class="na">font_face</span><span class="pi">:</span> <span class="s2">"</span><span class="s">PingFangSC"</span>                   <span class="c1"># 候选词编号字体</span>
      <span class="na">font_point</span><span class="pi">:</span> <span class="m">16</span>              <span class="c1"># 候选文字大小</span>
      <span class="na">label_font_point</span><span class="pi">:</span> <span class="m">13</span>        <span class="c1"># 候选编号大小</span>
      <span class="na">corner_radius</span><span class="pi">:</span> <span class="m">5</span>            <span class="c1"># 候选条圆角</span>
      <span class="na">hilited_corner_radius</span><span class="pi">:</span> <span class="m">5</span>    <span class="c1"># 高亮圆角</span>
      <span class="na">border_height</span><span class="pi">:</span> <span class="m">4</span>            <span class="c1"># 窗口上下高度</span>
      <span class="na">border_width</span><span class="pi">:</span> <span class="m">4</span>             <span class="c1"># 窗口左右宽度</span>
      <span class="na">border_color_width</span><span class="pi">:</span> <span class="m">0</span>       <span class="c1"># 输入条边框宽度</span>

  <span class="na">app_options</span><span class="pi">:</span>
    <span class="s">com.apple.Spotlight</span><span class="pi">:</span>
      <span class="na">ascii_mode</span><span class="pi">:</span> <span class="no">true</span>
    <span class="s">com.runningwithcrayons.Alfred</span><span class="pi">:</span>
      <span class="na">ascii_mode</span><span class="pi">:</span> <span class="no">true</span>
    <span class="s">com.googlecode.iterm2</span><span class="pi">:</span>
      <span class="na">ascii_mode</span><span class="pi">:</span> <span class="no">true</span>
    <span class="s">com.microsoft.VSCode</span><span class="pi">:</span>
      <span class="na">ascii_mode</span><span class="pi">:</span> <span class="no">false</span>
      <span class="na">ascii_punct</span><span class="pi">:</span> <span class="no">true</span>
    <span class="s">com.vandyke.SecureCRT</span><span class="pi">:</span>
      <span class="na">ascii_mode</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">ascii_punct</span><span class="pi">:</span> <span class="no">true</span>
    <span class="c1"># org.gnu.Emacs:</span>
    <span class="c1">#   ascii_mode: true</span>

</pre></td></tr></tbody></table></code></pre></div></div>


                <hr style="visibility: hidden;">
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/blog/upgrade-debian-10-to-11/" data-toggle="tooltip" data-placement="top" title="升级debian11(bullseye)">
                        Previous<br>
                        <span>升级debian11(bullseye)</span>
                        </a>
                    </li>
                    
                    
                </ul>
                <hr style="visibility: hidden;">

                

                
                <!-- utterances 评论框 start -->
                <script src="https://utteranc.es/client.js"
                        repo="darcylee/darcylee.github.io"
                        issue-term="pathname"
                        theme="github-light"
                        crossorigin="anonymous"
                        async>
                </script>
                
                <!-- utterances 评论框 end -->

                
            </div>

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                


<section>
    
        <hr class="hidden-sm hidden-xs">
    
    <h5><a href="/archive/">FEATURED TAGS</a></h5>
    <div class="tags">
        
        
        
        </a>
        
        
                <a data-sort="0011" 
                    href="/archive/?tag=%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0"
                    title="学习笔记"
                    rel="4">学习笔记</a>
        
                <a data-sort="0009" 
                    href="/archive/?tag=linux"
                    title="linux"
                    rel="6">linux</a>
        
                <a data-sort="0013" 
                    href="/archive/?tag=git"
                    title="git"
                    rel="2">git</a>
        
                <a data-sort="0013" 
                    href="/archive/?tag=note"
                    title="note"
                    rel="2">note</a>
        
                <a data-sort="0013" 
                    href="/archive/?tag=shell"
                    title="shell"
                    rel="2">shell
    </div>
</section>


                <!-- Friends Blog -->
                
<hr>
<h5>FRIENDS</h5>
<ul class="list-inline">
  
  <li><a href="http://onevcat.com">王巍(@onevcat)</a></li>
  
  <li><a href="http://blog.devtang.com">唐巧的技术博客</a></li>
  
  <li><a href="http://casatwy.com">casatwy's Blog</a></li>
  
</ul>

            </div>
        </div>
    </div>
</article>

<!-- add support for mathjax by voleking-->









<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- SNS Link -->
                


<ul class="list-inline text-center">


  
  <li>
    <a href="/feed.xml">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  
  
  <li>
    <a target="_blank" href="http://weibo.com/darcylee2012">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  
  <li>
    <a target="_blank" href="https://github.com/darcylee">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  <li>
    <a target="_blank" href="https://www.linkedin.com/in/rucle">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
</ul>


                <p class="copyright text-muted">
                    Copyright &copy; Gitlee's Blog 2015-2021
                  <br>
                  Powered by <a target="_blank" href="http://jekyllrb.com/">jekyll</a> | Theme by <a target="_blank" href="https://github.com/Huxpro/huxpro.github.io">Hux</a>
                    <!-- <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=huxpro&repo=huxpro.github.io&type=star&count=true" >
                    </iframe> -->
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<!-- Currently, only navbar scroll-down effect at desktop still depends on this -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>

<!-- Service Worker -->

<script src="/js/snackbar.js "></script>
<script src="/js/sw-registration.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->





<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->

<script>
    // dynamic User by Hux
    var _gaId = 'UA-122293548-1';
    var _gaDomain = 'www.gitlee.com';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>



<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = '5a898ca7bdbd80b38db866387473aeca';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>



<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog (selector) {

        // interop with multilangual 
        if ('' == 'true') {
            _containerSelector = 'div.post-container.active'
        } else {
            _containerSelector = 'div.post-container'
        }

        // init
        var P = $(_containerSelector),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        // clean
        $(selector).html('')

        // appending
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>


<!-- Multi-Lingual -->


<!-- baidu 自动推送 -->
<script>
 (function(){
   var bp = document.createElement('script');
   var curProtocol = window.location.protocol.split(':')[0];
   if (curProtocol === 'https'){
     bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
   }
   else{
     bp.src = 'http://push.zhanzhang.baidu.com/push.js';
   }
   var s = document.getElementsByTagName("script")[0];
   s.parentNode.insertBefore(bp, s);
 })();
</script>
<!-- end baidu 自动推送 -->



<!-- Image to hack wechat -->
  <!-- <img src="/img/icon_wechat.png" width="100" height="100" /> -->
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
